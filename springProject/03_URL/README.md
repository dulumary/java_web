# URL 설계
<<@=
- 이번 단계에서는 컨트롤러의 매핑 주소를 어떻게 정의할 것인지 정하는 단계이다.
- 크게 주소의 종류를 두가지로 나눠서 생각해보자.
  - 일반 컨트롤러에서 String을 리턴하면 JSP 뷰 화면
  - RestController 또는 Controller + ResponseBody를 사용해서 데이터를 내려주기
- 데이터만 내려주는 URL 주소를 API라고 한다. => **URL로 요청하면 데이터로 돌려줌**
- 예전엔 뷰와 구분이 없었으나 요즘은 한 프로젝트(컴포넌트)를 API 용으로만 구성한다.
  - 클라이언트는 각각 다른 곳에서 분리되어 구현
- 무슨 API들이 있는지 문서화해서 무엇을 파라미터로 주면 무슨 데이터로 주는지 명세를 한다.
- 그 때 가장 먼저 하는일이 URL이 무엇이며 파라미터가 무엇이며, 결과 데이터가 무엇인지를 문서화부터 한다.  
(인터페이스-스펙 명세 정의만 되면 구현은 빠르게 진행할 수 있다.  
또한 서버가 실제 구현을 못했더라도, 클라이언트는 미리 정의된 인터페이스만 보고 구현을 시작할 수 있다.)

=@>>

## URL 정의 종류
### 1. View 화면 URL 정의
- @Controller 어노테이션에서 String을 리턴하여 jsp 뷰 화면으로 가는 URL 설계
- `기획서의 화면 하나 당 URL을 만들면 된다.`

### 2. API 인터페이스 SPEC 정의
- @RestController 또는 @Controller + @ResponseBody를 통해 데이터를 리턴하는 URL 설계
- URL이 무엇인지와 파라미터 목록 정의와 결과값이 무엇인지를 정의한다.
- `화면은 구성하지 않고, 데이터만 이동되는 경우를 생각해서 URL을 구성한다.`

> 예시
  
### URL: `http://marondal.com/post?postId={postId}`
### 설명: 포스트 번호로 글 정보를 조회한다.
### 파라미터

|파라미터명|데이터타입|NULL 허용여부|설명|
|---|---|---|---|
|postId|int|N|조회할 글의 번호|

### 응답값

```
{
    "code":1,
    "result":{
        "subject":"가입했습니다",
        "content":"안녕하세요\n글을 처음 남겨보네요. 앞으로 잘 부탁드려요~",
        "createdAt":1620354348676,
        "updatedAt":1620354348676
    } 
}
```

### code

- 1: 성공  
- 404: 페이지 없음  
- 401: 잘못된 파라미터  
- 500: 서버 에러   
